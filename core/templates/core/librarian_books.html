{% extends 'core/librarian_base.html' %}

{% block title %}Manage Books{% endblock %}

{% block librarian_content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2><i class="fas fa-book"></i> Manage Books</h2>
    <a href="{% url 'librarian_add_book' %}" class="btn btn-primary">
        <i class="fas fa-plus"></i> Add New Book
    </a>
</div>

<form method="get" class="mb-4">
    <div class="input-group">
        {{ search_form.query }}
        <button class="btn btn-primary" type="submit">
            <i class="fas fa-search"></i> Search
        </button>
    </div>
</form>

<div class="card">
    <div class="card-body">
        {% if books %}
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Author</th>
                        <th>ISBN</th>
                        <th>Shelf</th>
                        <th>Available</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for book in books %}
                    <tr>
                        <td>{{ book.title }}</td>
                        <td>{{ book.author }}</td>
                        <td>{{ book.isbn }}</td>
                        <td>{{ book.shelf_no }}</td>
                        <td>{{ book.available_copies }} / {{ book.total_copies }}</td>
                        <td>
                            <a href="{% url 'book_detail' book.id %}" class="btn btn-info btn-sm" title="View">
                                <i class="fas fa-eye"></i>
                            </a>
                            <a href="{% url 'librarian_edit_book' book.id %}" class="btn btn-warning btn-sm" title="Edit">
                                <i class="fas fa-edit"></i>
                            </a>
                            <a href="{% url 'librarian_delete_book' book.id %}" class="btn btn-danger btn-sm" title="Delete">
                                <i class="fas fa-trash"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <p class="text-muted">No books found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
